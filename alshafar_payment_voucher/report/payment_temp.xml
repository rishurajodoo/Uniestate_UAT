<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <template id="alshafar_payment_header_footer_id">

            <!-- <t t-foreach="docs" t-as="o"> -->
            <div class="header" style="padding-bottom: 4px!important;">
                <!-- <t t-foreach="docs" t-as="o"> -->
                <div class="row">
                    <div class="col-7 mb4 pl-5">
                        <h3 style="font-family: Times New Roman, Times, serif; margin-left: 30px;font-style: normal;font-style: italic;">
                            <strong>
                                <span t-field="request.env.user.company_id.name"/>
                            </strong>
                        </h3>
                    </div>

                </div>
                <div class="row mt-5" style="border-bottom: 2px double black;"></div>
                <div class="row mt-1" style="border-bottom: 2px double black;"></div>

                <div class="row text-center mt-1"
                     style="font-family: Times New Roman, Times, serif; margin-left: 30px;font-style: normal;font-style: italic;">
                    <div class="col-12">
                        <h5>
                            <strong>Cheque Payment Voucher</strong>
                        </h5>
                    </div>
                </div>
                <!-- < /t> -->
            </div>
            <div class="footer" style="padding-bottom:20px">
                <style>.footer_span{font-size:15px;}</style>
                <div class="row p-2">
                    <div class="col-4">
                        <span>Prepared By:_________________</span>
                    </div>
                    <div class="col-4 text-center">
                        <span>Checked By:_________________</span>
                    </div>
                    <div class="col-4 text-right">
                        <span>Approved By:_________________</span>
                    </div>
                </div>

                <div class="row p-2">
                    <div class="col-4">
                        <span>Received By:_________________</span>
                    </div>
                    <div class="col-4 text-center">
                        <span>Signature:_________________</span>
                    </div>
                    <div class="col-4 text-right">
                        <span>Date:_________________</span>
                    </div>
                </div>
                <hr/>
                <div class="col-2">
                    <div t-if="report_type == 'pdf'" class="text-muted">
                        Page:
                        <span class="page"/>
                        /
                        <span class="topage"/>
                    </div>
                </div>
            </div>
            <!-- </t> -->
        </template>

        <template id="payment_voucher_temp_id">
            <t t-call="web.html_container">
                <t t-call="alshafar_payment_voucher.alshafar_payment_header_footer_id"/>
                <t t-foreach="docs" t-as="o">

                    <t t-call="web.external_layout">

                        <div class="page" style="font-family: Times New Roman, Times, serif; margin-left: 30px;">
                            <div class="row p-2">
                                <div class="col-4">
                                    <span>
                                        <strong>Date:</strong>
                                    </span>
                                    <span class="">
                                        <span t-field="o.date_payment"/>
                                    </span>
                                </div>
                                <!--                                <div class="col-4 offset-4 text-right">-->

                                <div class="col-4"/>
                                <div class="col-4">
                                    <span>
                                        <strong>Seq No:</strong>
                                    </span>
                                    <span class="">
                                        <span t-field="o.get_jv.name"/>
                                    </span>
                                </div>
                            </div>

                            <div class="row p-2">
                                <div class="col-4">
                                    <span>
                                        <strong>Payee Name:</strong>
                                    </span>
                                    <span>
                                        <span t-field="o.purchaser_id.name"/>
                                    </span>
                                </div>
                                <div class="col-4"/>
                                <div class="col-4"/>
                            </div>

                            <div class="row p-2">
                                <div class="col-4">
                                    <span>
                                        <strong>Cheque No:</strong>
                                        <span t-field="o.cheque_no"/>
                                    </span>
                                </div>
                                <div class="col-4"/>
                                <div class="col-4 text-left">
                                    <span>
                                        <strong>Cheque Date:</strong>
                                        <span t-field="o.date_payment"/>
                                    </span>
                                </div>
                            </div>

                            <div class="row p-2">
                                <div class="col-8">
                                    <span>
                                        <strong>Bank Name:</strong>
                                    </span>
                                    <span>
                                        <span t-field="o.destination_account_id.name"/>
                                    </span>
                                </div>
                                <div class="col-4"/>
                            </div>

                            <div class="row p-2">
                                <div class="col-10">
                                    <span>
                                        <strong>Paid From (Account no. and name):&#160;</strong>
                                    </span>
                                    <span>
                                        <span t-field="o.journal_id.bank_account_id.acc_number"/>
                                    </span>
                                </div>
                                <div class="col-2"/>
                            </div>

                            <div class="row p-2">
                                <div class="col-10">
                                    <span>
                                        <strong>Memo:</strong>
                                    </span>
                                    <span>
                                        <span t-field="o.memo"/>
                                    </span>
                                </div>
                                <div class="col-2"/>
                            </div>
                            <div class="row">

                                <style>table { border-collapse: collapse;
                                    border:2px solid #b0aeae
                                    }
                                    th { border: 2px solid black;
                                    padding: 8px;
                                    padding:5px;
                                    text-align:center; }
                                    tr:last-child td { border-bottom: 2px solid black;
                                    }
                                    .noborder{
                                    padding:5px;
                                    text-align:center;
                                    border-bottom:1px solid white;
                                    border-right:2px solid black
                                    }
                                    .withborder{ text-align:center;
                                    border-bottom:2px solid black;
                                    border-right:2px solid black
                                    }
                                </style>
                                <body>
                                    <table width="100%">
                                        <thead>
                                            <tr>
                                                <!--                                                <th width="15%">Acc.No</th>-->
                                                <!--                                                <th width="15%">Acc Name</th>-->
                                                <!--                                                <th width="65%">Description</th>-->
                                                <!--                                                <th width="15%">Amount</th>-->
                                                <th width="18%">Account</th>
                                                <th width="18%">Partner</th>
                                                <th width="39%" style="text-align: left;">Description</th>
                                                <th width="25%">Amount</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <!--                                                <td class="withborder">-->
                                                <!--                                                    <span t-field="o.destination_account_id.code"/>-->
                                                <!--                                                </td>-->
                                                <td class="withborder">
                                                    <span t-field="o.get_jv.line_ids[0].account_id.code"/>
                                                </td>
                                                <!--                                                <td class="withborder">-->
                                                <!--                                                    <span t-field="o.destination_account_id.name"/>-->
                                                <!--                                                </td>-->
                                                <td class="withborder">
                                                    <span t-field="o.get_jv.line_ids[0].partner_id.name"/>
                                                </td>
                                                <!--                                                <td class="withborder">Description Static</td>-->
                                                <td class="withborder" style="text-align: left;">
                                                    <span t-field="o.memo"/>
                                                </td>
                                                <!--                                                <td class="withborder">-->
                                                <!--                                                    <span t-field="o.payment_amount"/>-->
                                                <!--                                                </td>-->
                                                <td class="withborder">
                                                    <!-- <span t-field="'{:,}'.format(o.payment_amount)"/> -->
                                                    <t t-esc="'{:,}'.format(o.payment_amount)"/>
                                                    <!-- <span t-field="o.payment_amount" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: 'o.currency_id'}"/> -->

                                                </td>
                                            </tr>

                                            <tr>
                                                <td colspan="4">
                                                    <span style="text-decoration:underline">
                                                        <strong>Total:</strong>
                                                    </span>
                                                    <span>**Dirhams
                                                        <t t-esc="o.currency_id.amount_to_text(o.payment_amount)"/>
                                                        **
                                                    </span>
                                                    <span class="text-right">
                                                        <!-- <t t-esc="'{:,}'.format(o.payment_amount)"/> -->
                                                        <t t-esc="'{:,}'.format(o.payment_amount)"/>
                                                    </span>
                                                </td>
                                            </tr>


                                        </tbody>
                                    </table>
                                </body>

                                <!--<table width="100%" style="border:1px solid black">
                                    <thead>
                                        <th width="15%">Acc.No</th>
                                        <th width="15%">Acc Name</th>
                                        <th width="65%">Description</th>
                                        <th width="15%">Amount</th>
                                    </thead>

                                    <tr>
                                        <td width="15%" class="noborder">4738</td>
                                        <td width="15%" class="noborder">Public</td>
                                        <td width="65%" class="noborder">This is description</td>
                                        <td width="15%" class="noborder">9000</td>
                                    </tr>
                                    <tr>
                                        <td colspan="4">
                                            <span style="text-decoration:underline">Total:</span>
                                            <span>**Dirhams
                                                <t t-esc="o.qty_to_text(o.payment_amount)"/>
                                                **
                                            </span>
                                            <span class="text-right">
                                                <t t-esc="o.payment_amount"/>
                                            </span>
                                        </td>
                                    </tr>

                                </table>-->
                            </div>
                        </div>

                    </t>

                </t>
            </t>
        </template>

        <template id="journal_payment_r">
            <t t-call="web.html_container">
                <!-- <t t-call="alshafar_payment_voucher.alshafar_payment_header_footer_id"/> -->
                <t t-set="pdc_list" t-value="[]"/>
                <t t-foreach="docs" t-as="doc">
                    <t t-set="pdc" t-value="doc.env['pdc.payment'].search([('move_id.name','=',doc.name)])"/>
                    <t t-set="amount_in_words" t-value="str(doc.currency_id.amount_to_text(pdc.payment_amount))"/>
                    <t t-set="line_sum_price_total"
                       t-value="sum(line.price_subtotal for line in doc.invoice_line_ids)"/>
                    <t t-set="line_sum_price_total_inwords"
                       t-value="str(doc.currency_id.amount_to_text(line_sum_price_total))"/>

                    <!-- Append to the list -->
                    <!-- <t t-set="pdc_list" t-value="pdc_list + [{'cheque_no': pdc.cheque_no, 'amount_in_words': amount_in_words, 'line_sum_price_total_inwords': line_sum_price_total_inwords}]"/> -->


                    <t t-call="web.external_layout">
                        <style>
                            .page {
                            text-align: center; /* Center the content horizontally */
                            }

                            .report-heading h1 {
                            font-size: 30px; /* Adjust the font size as needed */
                            font-weight: bold;
                            line-height: 1.5; /* Adjust the line height as needed */
                            /* OR */
                            /* padding: 40px 0; */ /* Add padding to increase height */
                            }
                        </style>
                        <div width="100%" class="page">
                            <div class="report-heading">
                                <strong>
                                    <h1 style="font-weight: bold;">PAYMENT VOUCHER</h1>
                                </strong>
                            </div>
                            <br/>
                            <!--                            breaked-->
                            <table width="100%" style=" font-size: 14px;">
                                <tr>
                                    <td style="text-align: left; margin: 5px 0;">
                                        <strong>
                                            Sequence No<![CDATA[&nbsp;]]><![CDATA[&nbsp;]]>:<![CDATA[&nbsp;]]>
                                            <![CDATA[&nbsp;]]>
                                            <t t-if="pdc.name">
                                                <t t-esc="pdc.name"/>
                                            </t>
                                        </strong>
                                    </td>
                                    <td colspan="8"></td>
                                    <td style="text-align: right; margin: 5px 0;">
                                        <strong>
                                            <strong>Voucher Date<![CDATA[&nbsp;]]><![CDATA[&nbsp;]]>:<![CDATA[&nbsp;]]>
                                                <![CDATA[&nbsp;]]></strong>
                                            <t t-if="pdc.date_payment">
                                                <t t-esc="pdc.date_payment.strftime('%d/%m/%Y')"/>
                                            </t>
                                        </strong>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="text-align: left; margin: 5px 0;">
                                        <strong>Party<![CDATA[&nbsp;]]><![CDATA[&nbsp;]]>:<![CDATA[&nbsp;]]>
                                            <![CDATA[&nbsp;]]>
                                            <t t-if="pdc.partner_id">
                                                <t t-esc="pdc.partner_id.name"/>
                                            </t>
                                        </strong>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="text-align: left; margin: 5px 0;">
                                        <strong>DIRHAMS<![CDATA[&nbsp;]]><![CDATA[&nbsp;]]>:<![CDATA[&nbsp;]]>
                                            <![CDATA[&nbsp;]]>
                                            <t t-if="pdc.payment_amount">
                                                <t t-esc="'{:,.2f}'.format(pdc.payment_amount)"/>
                                            </t>
                                        </strong>

                                    </td>
                                </tr>
                                <tr>
                                    <td style="text-align: left; margin: 5px 0;">

                                        <strong>Amount in Words<![CDATA[&nbsp;]]><![CDATA[&nbsp;]]>:<![CDATA[&nbsp;]]>
                                            <![CDATA[&nbsp;]]>
                                            <t t-if="amount_in_words">
                                                <t t-esc="doc.amt_total_text((pdc.payment_amount))"/>
                                            </t>
                                        </strong>
                                    </td>
                                    <td colspan="8"></td>
                                    <td style="text-align: right; margin: 5px 0;">
                                        <strong>Cheque Date<![CDATA[&nbsp;]]><![CDATA[&nbsp;]]>:<![CDATA[&nbsp;]]>
                                            <![CDATA[&nbsp;]]>
                                            <t t-if="pdc.date_payment">
                                                <t t-esc="pdc.date_payment.strftime('%d/%m/%Y')"/>
                                            </t>
                                        </strong>

                                    </td>
                                </tr>
                                <tr>
                                    <td style="text-align: left; margin: 5px 0;">
                                        <strong>Bank<![CDATA[&nbsp;]]><![CDATA[&nbsp;]]>:<![CDATA[&nbsp;]]>
                                            <![CDATA[&nbsp;]]>
                                            <t t-if="pdc.destination_account_id">
                                                <t t-esc="pdc.destination_account_id.name"/>
                                            </t>
                                        </strong>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="text-align: left; margin: 5px 0;">
                                        <strong>Cheque No.<![CDATA[&nbsp;]]><![CDATA[&nbsp;]]>:<![CDATA[&nbsp;]]>
                                            <![CDATA[&nbsp;]]>
                                            <t t-if="pdc.cheque_no">
                                                <t t-esc="pdc.cheque_no"/>
                                            </t>
                                        </strong>

                                    </td>
                                </tr>
                            </table>
                            <br/>

                            <!--                            breaked-->

                            <table style="border: 1px solid black; border-collapse: collapse; width: 100%;">
                                <thead>
                                    <tr>
                                        <th style="border: 1px solid black; width: 20%;text-align: left;">Amount Code
                                        </th>
                                        <th style="border: 1px solid black; width: 20%;text-align: left; ">Account
                                            Name
                                        </th>
                                        <th style="border: 1px solid black; width: 40%;text-align: left; ">Description
                                        </th>
                                        <th style="border: 1px solid black; width: 20%;text-align: right; ">Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-foreach="doc.invoice_line_ids" t-as="line_id">
                                        <tr>
                                            <td style="border: 1px solid black;text-align: left;">
                                                <t t-esc="line_id.account_id.code"/>
                                            </td>
                                            <td style="border: 1px solid black;text-align: left;">
                                                <t t-esc="line_id.account_id.name"/>
                                            </td>
                                            <td style="border: 1px solid black;text-align: left;">
                                                <t t-esc="line_id.name"/>
                                            </td>
                                            <td style="border: 1px solid black;text-align: right;">
                                                <t t-esc="'{:,.2f}'.format(line_id.price_subtotal)"/>
                                            </td>
                                        </tr>
                                    </t>
                                    <tr>
                                        <td colspan="3" style="border: 1px solid black;text-align: left;">
                                            <!--                                            <t t-esc="line_sum_price_total_inwords"/>-->
                                        </td>
                                        <td style="border: 1px solid black;text-align: right;">
                                            <t t-esc="'{:,.2f}'.format(line_sum_price_total)"/>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div style="position:absolute;top:700px; page-break-inside: avoid; width:100%; ">
                            <center>
                                <table width="100%">
                                    <tr>
                                        <td style="text-align:center;">
                                            <center>
                                                <hr style="height:1px;width:50%;color:black;background-color:black;text-align:center;"/>
                                            </center>
                                        </td>
                                        <td style="text-align:center;">
                                            <center>
                                                <hr style="height:1px;width:50%;color:black;background-color:black;text-align:center;"/>
                                            </center>
                                        </td>
                                        <td style="text-align:center;">
                                            <center>
                                                <hr style="height:1px;width:50%;color:black;background-color:black;text-align:center;"/>
                                            </center>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align:center;">Prepared By</td>
                                        <td style="text-align:center;">Checked By</td>
                                        <td style="text-align:center;">Approved By</td>
                                    </tr>
                                    <tr style="height:20px;"></tr> <!-- Empty row with a height of 20px -->
                                    <tr style="height:20px;"></tr> <!-- Empty row with a height of 20px -->
                                    <tr style="height:20px;"></tr>
                                    <tr>
                                        <td style="text-align:center;">
                                            <center>
                                                <hr style="height:1px;width:50%;color:black;background-color:black;text-align:center;"/>
                                            </center>
                                        </td>
                                        <td style="text-align:center;">
                                            <center>
                                                <hr style="height:1px;width:50%;color:black;background-color:black;text-align:center;"/>
                                            </center>
                                        </td>
                                        <td style="text-align:center;">
                                            <center>
                                                <hr style="height:1px;width:50%;color:black;background-color:black;text-align:center;"/>
                                            </center>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align:center;">Received By</td>
                                        <td style="text-align:center;">Signature</td>
                                        <td style="text-align:center;">Date</td>
                                    </tr>
                                </table>
                            </center>


                        </div>

                    </t>
                </t>
                <p style="page-break-before:always;"></p>
            </t>
        </template>


    </data>
</odoo>
